<!DOCTYPE html>
<html lang="fr">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Température maison PoutsFam</title>

	<meta name="description" content="affichage des informations des thermomètres Bluetooth">
	<meta name="author" content="Stéphane Lepoutère">

	<!-- fontAwesome pour les boutons Core CSS -->
	<link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet">

	<!-- Bootstrap Core CSS -->
	<link href="{{ url_for('static', filename='css/bootstrap.min.css') }}" rel="stylesheet">

	<!-- Bootstrap-table Core CSS -->
	<link href="{{ url_for('static', filename='css/bootstrap-table.min.css') }}" rel="stylesheet">

	<!-- Theme CSS -->
	<link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet">

</head>

<body>
	<div class="container-fluid">
		<div class="row">
			<div class="col-md-12">
				<div class="page-header">
					<h1>
						Température Pout's Fam House !
					</h1>
				</div>
				<div class="row">
					<div class="col-md-12">
						<button onclick="json_button()">Json Message</button>
						<button onclick="alert_button()">Alert Message</button>
					</div>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-md-12">
				<nav class="nav nav-pills" id="myTab">
					<a class="nav-item nav-list" id="plan-tab" data-toggle="tab" href="#plan">Plan maison</a>
					<a class="nav-item nav-list active" 
						id="thermo-tab" 
						data-toggle="tab" 
						href="#thermo"
						aria-expanded="true">
						thermomètres</a>
					<a class="nav-item nav-list" id="tableau-tab" data-toggle="tab" href="#tableau">Tableau de
						données</a>
				</nav>
			</div>
		</div>
		<div class="tab-content" id="ex1-content">
			<div class="row tab-pane fade" id="plan">
				<div class="col-md-12">
					<svg id="svgMaison">
						<rect
							style="fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-opacity:1;image-rendering:auto"
							id="rect35" width="164px" height="100px" x="0px" y="0px" />
						<rect style="fill:none;stroke:#000000;stroke-width:1px;stroke-opacity:1" id="rect2542"
							width="31px" height="29px" x="0px" y="34px" />
						<path
							style="fill:none;stroke:#000000;stroke-width:1pxpx;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
							d="M 0,34 H 31 v 7 H 74 V 0 H 0 V 34" id="path2679" />
						<path
							style="fill:none;stroke:#000000;stroke-width:1pxpx;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
							d="M 31,55 H 45 V 100 H 0 V 63 H 31 v -7" id="path2681" />
						<path
							style="fill:none;stroke:#000000;stroke-width:1pxpx;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
							d="M 74,0 H 90 V 24 H 74 Z" id="path2683" />
						<path
							style="fill:none;stroke:#000000;stroke-width:1pxpx;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
							d="M 87,24 V 42 H 74 V 24 Z" id="path2685" />
						<path
							style="fill:none;stroke:#000000;stroke-width:1pxpx;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
							d="M 90,55 V 100 H 45 V 55 Z" id="path2687" />
						<path
							style="fill:none;stroke:#000000;stroke-width:1pxpx;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
							d="M 103,0 V 55 H 90 V 100 H 164 V 55 H 137 V 0 Z" id="path2689" />
						<rect style="fill:none;stroke:#000000;stroke-width:1px;stroke-opacity:1" id="rect3099"
							width="50" height="23" x="108" y="100" />
					</svg>
					<embed src="{{ url_for('static', filename='svg/maison.svg') }}" type="image/svg+xml"
						id="svgMaison" />
				</div>
			</div>
			<div class="row tab-pane fade active show" id="thermo" aria-expanded="true">
				<div class="col-md-12">
					<div class="card-deck">
						{%- for pos in range(0, 8) %}
						<div id="dv-{{ liste_data[pos][0] }}" class="card text-center">
							<h5 class="card-header">
								{{ liste_data[pos][2] }}
							</h5>
							<div class="card-body">
								<button type="button" class="btn btn-danger">
									<div name="temp">{{ liste_data[pos][3] }}</div><span
										class="badge badge-light">°C</span>
								</button>
								<button type="button" class="btn btn-primary">
									<div name="hygro">{{ liste_data[pos][4] }}</div><span
										class="badge badge-light">%HR</span>
								</button>
								<div class="img-battery">
									<img name="batt"
										src="{{ url_for('static', filename='img/battery_level_w50px.png') }}"
										alt="batterie : {{ liste_data[pos][5] }} %"
										title="batterie : {{ liste_data[pos][5] }} %" class="card-img-top rounded {%- if liste_data[pos][5] > 80 %} battery_100pc
														   {%- elif liste_data[pos][5] > 60 %} battery_80pc
														{%- elif liste_data[pos][5] > 40 %} battery_60pc
														{%- elif liste_data[pos][5] > 20 %} battery_40pc
														{%- else %} battery_20pc {%- endif %}" />
								</div>
							</div>
							<div class="card-footer" name="timeS">
								{{ liste_data[pos][1] }}
							</div>
						</div>
						{%- endfor %}
					</div>
				</div>
			</div>
			<div class="row tab-pane fade" id="tableau">
				<div class="col-md-12">
					<table class="table table-sm" data-toggle="table" data-filter-control="true"
						data-show-search-clear-button="true" data-toolbar=".toolbar" data-sortable="true"
						data-show-multi-sort="true"
						data-sort-priority='[{"sortName": "date","sortOrder":"desc"},{"sortName":"localisation","sortOrder":"desc"}]'
						data-pagination="true">
						<thead>
							<tr>
								<th>
									#
								</th>
								<th data-field="date" data-sortable="true">
									date
								</th>
								<th data-field="localisation" data-filter-control="select" data-sortable="true">
									pièce
								</th>
								<th>
									température
								</th>
								<th>
									hygrométrie
								</th>
								<th>
									batterie
								</th>
							</tr>
						</thead>
						<tbody>
							{%- for line in liste_all %}
							<tr>
								{% for item in line %}
								<td>
									{{ item }}
								</td>
								{%- endfor %}
							</tr>
							{%- endfor %}
						</tbody>
					</table>
				</div>
			</div>
		</div>

	</div>

	<!-- Plugin JavaScript -->
	<script type="text/javascript" 
		src="{{ url_for('static', filename='js/jquery.min.js') }}"></script>

	<!-- Bootstrap Core JavaScript -->
	<script type="text/javascript" 
		src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>

	<!-- Bootstrap-table Core JavaScript -->
	<script type="text/javascript" 
		src="{{ url_for('static', filename='js/bootstrap-table.min.js') }}"></script>

	<!-- Bootstrap-table Core JavaScript -->
	<!-- <script src="{{ url_for('static', filename='js/jquery.tablednd.min.js') }}"></script>4 -->

	<!-- Bootstrap-table Core JavaScript -->
	<script type="text/javascript" 
		src="{{ url_for('static', filename='js/bootstrap-table-fr-FR.min.js') }}"></script>

	<!-- Bootstrap-table Core JavaScript -->
	<script type="text/javascript" 
		src="{{ url_for('static', filename='js/bootstrap-table-filter-control.min.js') }}"></script>

	<!-- Bootstrap-table Core JavaScript -->
	<script type="text/javascript" 
		src="{{ url_for('static', filename='js/bootstrap-table-multiple-sort.js') }}"></script>

	<!--					data-reorderable-rows="true"-->

	<!-- Theme JavaScript -->
	<script type="text/javascript" 
		src="{{ url_for('static', filename='js/scripts.js') }}"></script>

</body>

</html>